<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GCSE French Vocabulary Test</title>
    <style>
        :root {
            --primary: #2563eb;
            --primary-dark: #1d4ed8;
            --primary-light: #3b82f6;
            --secondary: #f43f5e;
            --accent: #8b5cf6;
            --neutral-100: #f1f5f9;
            --neutral-200: #e2e8f0;
            --neutral-300: #cbd5e1;
            --neutral-800: #1e293b;
            --neutral-900: #0f172a;
            --success: #10b981;
            --warning: #f59e0b;
            --error: #ef4444;
            --radius: 8px;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --font-sans: 'Poppins', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
        }

        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-sans);
            background-color: var(--neutral-100);
            color: var(--neutral-800);
            min-height: 100vh;
            padding: 2rem;
            display: flex;
            justify-content: center;
            align-items: center;
            line-height: 1.6;
        }

        .container {
            max-width: 800px;
            width: 100%;
            margin: 0 auto;
            background-color: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow-lg);
            overflow: hidden;
            position: relative;
        }

        header {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            padding: 1.5rem 2rem;
            color: white;
            text-align: center;
            position: relative;
        }

        header h1 {
            font-weight: 600;
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
        }

        header p {
            font-weight: 300;
            opacity: 0.9;
        }

        .french-flag {
            position: absolute;
            right: 2rem;
            top: 50%;
            transform: translateY(-50%);
            width: 40px;
            height: 30px;
            display: flex;
            border-radius: 3px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .french-flag div {
            flex: 1;
            height: 100%;
        }

        .french-flag .blue {
            background-color: #002395;
        }

        .french-flag .white {
            background-color: #ffffff;
        }

        .french-flag .red {
            background-color: #ed2939;
        }

        .progress-container {
            padding: 1rem 2rem;
            background-color: var(--neutral-200);
        }

        .progress-bar {
            height: 8px;
            background-color: var(--neutral-300);
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background-color: var(--primary);
            width: 0%;
            transition: width 0.3s ease;
        }

        .progress-text {
            display: flex;
            justify-content: space-between;
            margin-top: 0.5rem;
            font-size: 0.875rem;
            color: var(--neutral-800);
        }

        main {
            padding: 2rem;
        }

        .screen {
            display: none;
        }

        .screen.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .intro-screen, .results-screen {
            text-align: center;
            padding: 2rem 1rem;
        }

        .intro-screen h2, .results-screen h2 {
            margin-bottom: 1.5rem;
            color: var(--primary-dark);
        }

        .intro-screen p, .results-screen p {
            margin-bottom: 2rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .question-screen {
            padding: 1rem 0;
        }

        .question-box {
            margin-bottom: 2rem;
        }

        .question {
            font-size: 1.25rem;
            font-weight: 500;
            margin-bottom: 1rem;
        }

        .hint {
            font-size: 0.875rem;
            color: var(--neutral-800);
            margin-bottom: 1.5rem;
            font-style: italic;
        }

        .answer-input {
            width: 100%;
            padding: 0.75rem 1rem;
            font-size: 1rem;
            border: 2px solid var(--neutral-300);
            border-radius: var(--radius);
            transition: all 0.2s ease;
        }

        .answer-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.2);
        }

        .button {
            display: inline-block;
            padding: 0.75rem 1.5rem;
            font-size: 1rem;
            font-weight: 500;
            text-align: center;
            color: white;
            background-color: var(--primary);
            border: none;
            border-radius: var(--radius);
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: var(--shadow);
        }

        .button:hover {
            background-color: var(--primary-dark);
            transform: translateY(-1px);
            box-shadow: 0 6px 10px -2px rgba(0, 0, 0, 0.15);
        }

        .button:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.4);
        }

        .button:active {
            transform: translateY(0);
        }

        .button.secondary {
            background-color: var(--neutral-200);
            color: var(--neutral-800);
        }

        .button.secondary:hover {
            background-color: var(--neutral-300);
        }

        .button-group {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
        }

        .results-list {
            max-width: 500px;
            margin: 0 auto 2rem auto;
            text-align: left;
        }

        .result-item {
            display: flex;
            padding: 0.75rem;
            border-radius: var(--radius);
            margin-bottom: 0.5rem;
            animation: slideIn 0.3s ease;
            background-color: var(--neutral-100);
        }

        .result-item.correct {
            border-left: 4px solid var(--success);
        }

        .result-item.incorrect {
            border-left: 4px solid var(--error);
        }

        .result-question {
            flex: 1;
            padding-right: 1rem;
        }

        .result-answer {
            display: flex;
            align-items: center;
        }

        .result-icon {
            margin-left: 0.5rem;
            font-size: 1.25rem;
        }

        .correct .result-icon {
            color: var(--success);
        }

        .incorrect .result-icon {
            color: var(--error);
        }

        .score {
            font-size: 2rem;
            font-weight: 600;
            color: var(--primary-dark);
            margin: 1rem 0;
        }

        .feedback {
            margin-bottom: 2rem;
            font-weight: 500;
        }

        .excellent {
            color: var(--success);
        }

        .good {
            color: var(--primary);
        }

        .average {
            color: var(--warning);
        }

        .needs-work {
            color: var(--error);
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-10px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            body {
                padding: 1rem;
            }

            header {
                padding: 1.25rem;
            }

            header h1 {
                font-size: 1.5rem;
                padding-right: 40px;
            }

            main {
                padding: 1.5rem;
            }

            .button-group {
                flex-direction: column;
                gap: 1rem;
            }

            .button {
                width: 100%;
            }
        }

        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #f0f;
            opacity: 0;
            animation: confetti-fall 4s linear forwards;
            z-index: 100;
        }

        @keyframes confetti-fall {
            0% {
                opacity: 1;
                top: -10px;
                transform: translateX(0) rotateZ(0deg);
            }
            100% {
                opacity: 0;
                top: 100%;
                transform: translateX(100px) rotateZ(360deg);
            }
        }
    </style>
    <script src="../js/showcase-nav.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>GCSE French Vocabulary Test</h1>
            <p>Test your knowledge of essential French vocabulary about life at school</p>
            <div class="french-flag">
                <div class="blue"></div>
                <div class="white"></div>
                <div class="red"></div>
            </div>
        </header>

        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-text">
                <span id="progressText">Question 0 of 20</span>
                <span id="timeDisplay">Time: 00:00</span>
            </div>
        </div>

        <main>
            <!-- Introduction Screen -->
            <div class="screen active" id="introScreen">
                <div class="intro-screen">
                    <h2>Welcome to the GCSE French School Vocabulary Test</h2>
                    <p>This test will assess your knowledge of essential French vocabulary about life at school for GCSE. You'll be presented with 20 questions covering different aspects of school life. Type the correct French word for each English prompt. Your spelling must be accurate for your answer to be marked correct.</p>
                    <p>Your results will only be shown at the end of the test. Good luck!</p>
                    <button class="button" id="startButton">Start Test</button>
                </div>
            </div>

            <!-- Question Screen -->
            <div class="screen" id="questionScreen">
                <div class="question-screen">
                    <div class="question-box">
                        <div class="question" id="question">What is the French word for "hello"?</div>
                        <div class="hint" id="hint">Hint: This is a common greeting</div>
                        <input type="text" class="answer-input" id="answerInput" placeholder="Type your answer here..." autocomplete="off">
                    </div>
                    <div class="button-group">
                        <button class="button secondary" id="previousButton" disabled>Previous</button>
                        <button class="button" id="nextButton">Next</button>
                    </div>
                </div>
            </div>

            <!-- Results Screen -->
            <div class="screen" id="resultsScreen">
                <div class="results-screen">
                    <h2>Your Results</h2>
                    <div class="score" id="scoreDisplay">0/20</div>
                    <div class="feedback" id="feedbackText">Computing your feedback...</div>
                    <div class="results-list" id="resultsList">
                        <!-- Results will be inserted here -->
                    </div>
                    <button class="button" id="retryButton">Retry Test</button>
                </div>
            </div>
        </main>
    </div>

    <script>
        // Test data
        const vocabularyTest = [
            {
                question: "What is the French word for 'teacher'?",
                hint: "Person who educates students",
                answer: "professeur"
            },
            {
                question: "How do you say 'student' in French?",
                hint: "Person who attends a school",
                answer: "élève"
            },
            {
                question: "What is the French word for 'classroom'?",
                hint: "Room where lessons take place",
                answer: "salle de classe"
            },
            {
                question: "How do you say 'blackboard' in French?",
                hint: "Surface teachers write on",
                answer: "tableau noir"
            },
            {
                question: "What is the French word for 'pencil'?",
                hint: "Writing tool with lead",
                answer: "crayon"
            },
            {
                question: "How do you say 'pen' in French?",
                hint: "Writing tool with ink",
                answer: "stylo"
            },
            {
                question: "What is the French word for 'notebook'?",
                hint: "Book for writing notes",
                answer: "cahier"
            },
            {
                question: "How do you say 'textbook' in French?",
                hint: "Book used for studying a subject",
                answer: "manuel"
            },
            {
                question: "What is the French word for 'school'?",
                hint: "Place for education",
                answer: "école"
            },
            {
                question: "How do you say 'homework' in French?",
                hint: "Work students do at home",
                answer: "devoirs"
            },
            {
                question: "What is the French word for 'exam'?",
                hint: "Test to evaluate knowledge",
                answer: "examen"
            },
            {
                question: "How do you say 'library' in French?",
                hint: "Place with books for borrowing",
                answer: "bibliothèque"
            },
            {
                question: "What is the French word for 'cafeteria'?",
                hint: "Place in school where food is served",
                answer: "cantine"
            },
            {
                question: "How do you say 'principal' in French?",
                hint: "Person who runs a school",
                answer: "directeur"
            },
            {
                question: "What is the French word for 'break time'?",
                hint: "Period of rest between lessons",
                answer: "récréation"
            },
            {
                question: "How do you say 'lesson' in French?",
                hint: "Period of instruction on a subject",
                answer: "leçon"
            },
            {
                question: "What is the French word for 'timetable'?",
                hint: "Schedule of classes",
                answer: "emploi du temps"
            },
            {
                question: "How do you say 'mathematics' in French?",
                hint: "Study of numbers and shapes",
                answer: "mathématiques"
            },
            {
                question: "What is the French word for 'science'?",
                hint: "Study of natural world",
                answer: "sciences"
            },
            {
                question: "How do you say 'school bag' in French?",
                hint: "Bag for carrying school materials",
                answer: "cartable"
            }
        ];

        // Initialization
        let currentQuestionIndex = 0;
        let userAnswers = new Array(vocabularyTest.length).fill('');
        let startTime;
        let timerInterval;

        // DOM Elements
        const introScreen = document.getElementById('introScreen');
        const questionScreen = document.getElementById('questionScreen');
        const resultsScreen = document.getElementById('resultsScreen');
        const progressFill = document.getElementById('progressFill');
        const progressText = document.getElementById('progressText');
        const timeDisplay = document.getElementById('timeDisplay');
        const questionElement = document.getElementById('question');
        const hintElement = document.getElementById('hint');
        const answerInput = document.getElementById('answerInput');
        const previousButton = document.getElementById('previousButton');
        const nextButton = document.getElementById('nextButton');
        const startButton = document.getElementById('startButton');
        const retryButton = document.getElementById('retryButton');
        const scoreDisplay = document.getElementById('scoreDisplay');
        const feedbackText = document.getElementById('feedbackText');
        const resultsList = document.getElementById('resultsList');

        // Event Listeners
        startButton.addEventListener('click', startTest);
        previousButton.addEventListener('click', goToPreviousQuestion);
        nextButton.addEventListener('click', goToNextQuestion);
        retryButton.addEventListener('click', resetTest);
        answerInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                goToNextQuestion();
            }
        });

        // Function to start the test
        function startTest() {
            introScreen.classList.remove('active');
            questionScreen.classList.add('active');
            startTime = new Date();
            timerInterval = setInterval(updateTimer, 1000);
            updateQuestion();
        }

        // Update timer display
        function updateTimer() {
            const currentTime = new Date();
            const elapsedSeconds = Math.floor((currentTime - startTime) / 1000);
            const minutes = Math.floor(elapsedSeconds / 60);
            const seconds = elapsedSeconds % 60;
            timeDisplay.textContent = `Time: ${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        // Update question display
        function updateQuestion() {
            const currentQuestion = vocabularyTest[currentQuestionIndex];
            questionElement.textContent = currentQuestion.question;
            hintElement.textContent = `Hint: ${currentQuestion.hint}`;
            answerInput.value = userAnswers[currentQuestionIndex];
            
            // Update progress
            progressFill.style.width = `${((currentQuestionIndex + 1) / vocabularyTest.length) * 100}%`;
            progressText.textContent = `Question ${currentQuestionIndex + 1} of ${vocabularyTest.length}`;
            
            // Update buttons
            previousButton.disabled = currentQuestionIndex === 0;
            nextButton.textContent = currentQuestionIndex === vocabularyTest.length - 1 ? "Finish" : "Next";
            
            // Focus on input
            answerInput.focus();
        }

        // Go to previous question
        function goToPreviousQuestion() {
            saveCurrentAnswer();
            currentQuestionIndex--;
            updateQuestion();
        }

        // Go to next question or finish test
        function goToNextQuestion() {
            saveCurrentAnswer();
            
            if (currentQuestionIndex < vocabularyTest.length - 1) {
                currentQuestionIndex++;
                updateQuestion();
            } else {
                finishTest();
            }
        }

        // Save current answer
        function saveCurrentAnswer() {
            userAnswers[currentQuestionIndex] = answerInput.value.trim().toLowerCase();
        }

        // Finish the test and show results
        function finishTest() {
            clearInterval(timerInterval);
            questionScreen.classList.remove('active');
            resultsScreen.classList.add('active');
            
            // Calculate score
            let correctAnswers = 0;
            userAnswers.forEach((answer, index) => {
                if (answer === vocabularyTest[index].answer) {
                    correctAnswers++;
                }
            });
            
            // Display score
            scoreDisplay.textContent = `${correctAnswers}/${vocabularyTest.length}`;
            
            // Display feedback
            const percentage = (correctAnswers / vocabularyTest.length) * 100;
            let feedbackClass;
            let feedbackMessage;
            
            if (percentage >= 90) {
                feedbackClass = 'excellent';
                feedbackMessage = 'Excellent! Your French school vocabulary is outstanding!';
                createConfetti();
            } else if (percentage >= 75) {
                feedbackClass = 'good';
                feedbackMessage = 'Good job! You have a strong grasp of French school vocabulary.';
            } else if (percentage >= 60) {
                feedbackClass = 'average';
                feedbackMessage = 'Not bad! Keep practicing to improve your French school vocabulary.';
            } else {
                feedbackClass = 'needs-work';
                feedbackMessage = 'Keep studying! With more practice, you\'ll improve your French school vocabulary.';
            }
            
            feedbackText.textContent = feedbackMessage;
            feedbackText.className = `feedback ${feedbackClass}`;
            
            // Display detailed results
            resultsList.innerHTML = '';
            vocabularyTest.forEach((item, index) => {
                const isCorrect = userAnswers[index] === item.answer;
                const resultItem = document.createElement('div');
                resultItem.className = `result-item ${isCorrect ? 'correct' : 'incorrect'}`;
                
                const resultHTML = `
                    <div class="result-question">
                        <strong>${index + 1}. ${item.question}</strong>
                        <div>Your answer: ${userAnswers[index] || '(no answer)'}</div>
                        ${!isCorrect ? `<div>Correct answer: ${item.answer}</div>` : ''}
                    </div>
                    <div class="result-answer">
                        <span class="result-icon">${isCorrect ? '✓' : '✗'}</span>
                    </div>
                `;
                
                resultItem.innerHTML = resultHTML;
                resultsList.appendChild(resultItem);
                
                // Add delay for animation
                setTimeout(() => {
                    resultItem.style.opacity = 1;
                }, index * 50);
            });
        }

        // Reset test for retrying
        function resetTest() {
            currentQuestionIndex = 0;
            userAnswers = new Array(vocabularyTest.length).fill('');
            resultsScreen.classList.remove('active');
            introScreen.classList.add('active');
            progressFill.style.width = '0%';
            progressText.textContent = `Question 0 of ${vocabularyTest.length}`;
            timeDisplay.textContent = 'Time: 00:00';
        }

        // Create confetti for high scores
        function createConfetti() {
            const colors = ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff', '#00ffff'];
            
            for (let i = 0; i < 100; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = `${Math.random() * 100}%`;
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.width = `${Math.random() * 10 + 5}px`;
                confetti.style.height = `${Math.random() * 10 + 5}px`;
                confetti.style.animationDuration = `${Math.random() * 3 + 2}s`;
                confetti.style.animationDelay = `${Math.random() * 2}s`;
                
                document.querySelector('.container').appendChild(confetti);
                
                // Remove confetti after animation
                setTimeout(() => {
                    confetti.remove();
                }, 5000);
            }
        }

        // Add ability to enter special characters
        answerInput.addEventListener('focus', function() {
            const specialCharButtons = document.getElementById('specialCharButtons');
            if (!specialCharButtons) {
                const buttonContainer = document.createElement('div');
                buttonContainer.id = 'specialCharButtons';
                buttonContainer.style.marginTop = '10px';
                buttonContainer.style.display = 'flex';
                buttonContainer.style.gap = '5px';
                buttonContainer.style.flexWrap = 'wrap';
                
                const specialChars = ['é', 'è', 'ê', 'ë', 'à', 'â', 'ç', 'ù', 'û', 'ô', 'œ', 'ï', 'î'];
                
                specialChars.forEach(char => {
                    const button = document.createElement('button');
                    button.textContent = char;
                    button.style.padding = '8px 12px';
                    button.style.borderRadius = '4px';
                    button.style.border = '1px solid #ccc';
                    button.style.background = 'white';
                    button.style.cursor = 'pointer';
                    button.style.transition = 'all 0.2s';
                    
                    button.addEventListener('mouseover', function() {
                        this.style.background = '#f0f0f0';
                    });
                    
                    button.addEventListener('mouseout', function() {
                        this.style.background = 'white';
                    });
                    
                    button.addEventListener('click', function() {
                        // Insert character at cursor position
                        const curPos = answerInput.selectionStart;
                        const text = answerInput.value;
                        answerInput.value = text.slice(0, curPos) + char + text.slice(curPos);
                        // Move cursor after inserted character
                        answerInput.setSelectionRange(curPos + 1, curPos + 1);
                        answerInput.focus();
                    });
                    
                    buttonContainer.appendChild(button);
                });
                
                const questionBox = document.querySelector('.question-box');
                questionBox.appendChild(buttonContainer);
            }
        });
    </script>
</body>
</html>